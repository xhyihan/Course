{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user5\\\\OneDrive\\\\\\u684C\\u9762\\\\TSMC\\\\course-recommendation-system\\\\front-end\\\\src\\\\components\\\\PersonInfo.js\";\nimport React from 'react';\nimport Card from './Card';\n\nclass PersonInfo extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      history: [],\n      recom: []\n    };\n  }\n\n  componentDidMount() {\n    var that = this;\n    fetch('http://localhost:3000/gethistory').then(response => response.json()).then(function (data) {\n      that.setState({\n        history: data\n      });\n    });\n    fetch('http://localhost:3000/getrecombystu').then(response => response.json()).then(function (data) {\n      that.setState({\n        recom: data\n      });\n    });\n  }\n\n  render() {\n    const _this$state = this.state,\n          history = _this$state.history,\n          recom = _this$state.recom;\n    const _this$props = this.props,\n          sid = _this$props.sid,\n          onRouteChange = _this$props.onRouteChange;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }, \"Enrolled Course History\"), React.createElement(\"div\", {\n      className: \"black dib br3 pa3 ma2 grow bw2 shadow-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }, history.map((item, i) => {\n      if (item.studentid === sid) return React.createElement(\"td\", {\n        class: \"pv3 pr3 bb b--black-20 bg-lightgreen\",\n        key: i,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, history[i].courseid);\n    }), React.createElement(\"p\", {\n      onClick: () => onRouteChange('addhistory'),\n      className: \"link dim underline pa3 pointer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, \"Add History\")), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, \"Recommendation for you\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, recom.map((data, j) => {\n      if (data.studentid === sid) return React.createElement(Card, {\n        onRouteChange: onRouteChange,\n        key: j,\n        courseid: recom[j].courseid,\n        name: recom[j].name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      });\n    })));\n  }\n\n}\n\nexport default PersonInfo;","map":{"version":3,"sources":["C:\\Users\\user5\\OneDrive\\桌面\\TSMC\\course-recommendation-system\\front-end\\src\\components\\PersonInfo.js"],"names":["React","Card","PersonInfo","Component","constructor","props","state","history","recom","componentDidMount","that","fetch","then","response","json","data","setState","render","sid","onRouteChange","map","item","i","studentid","courseid","j","name"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,QAAjB;;AAEA,MAAMC,UAAN,SAAyBF,KAAK,CAACG,SAA/B,CAAyC;AACxCC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAW;AACVC,MAAAA,OAAO,EAAC,EADE;AAEVC,MAAAA,KAAK,EAAC;AAFI,KAAX;AAIA;;AACDC,EAAAA,iBAAiB,GAAE;AAClB,QAAIC,IAAI,GAAG,IAAX;AACAC,IAAAA,KAAK,CAAC,kCAAD,CAAL,CACCC,IADD,CACMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADlB,EAECF,IAFD,CAEM,UAASG,IAAT,EAAc;AACnBL,MAAAA,IAAI,CAACM,QAAL,CAAc;AAACT,QAAAA,OAAO,EAACQ;AAAT,OAAd;AACA,KAJD;AAKAJ,IAAAA,KAAK,CAAC,qCAAD,CAAL,CACCC,IADD,CACMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADlB,EAECF,IAFD,CAEM,UAASG,IAAT,EAAc;AACnBL,MAAAA,IAAI,CAACM,QAAL,CAAc;AAACR,QAAAA,KAAK,EAACO;AAAP,OAAd;AACA,KAJD;AAKA;;AACDE,EAAAA,MAAM,GAAE;AAAA,wBACiB,KAAKX,KADtB;AAAA,UACAC,OADA,eACAA,OADA;AAAA,UACQC,KADR,eACQA,KADR;AAAA,wBAEqB,KAAKH,KAF1B;AAAA,UAEAa,GAFA,eAEAA,GAFA;AAAA,UAEIC,aAFJ,eAEIA,aAFJ;AAGP,WACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCADA,EAEC;AAAK,MAAA,SAAS,EAAC,yCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACCZ,OAAO,CAACa,GAAR,CAAY,CAACC,IAAD,EAAMC,CAAN,KAAU;AACrB,UAAGD,IAAI,CAACE,SAAL,KAAiBL,GAApB,EACC,OACE;AAAI,QAAA,KAAK,EAAC,sCAAV;AAAiD,QAAA,GAAG,EAAEI,CAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA0Df,OAAO,CAACe,CAAD,CAAP,CAAWE,QAArE,CADF;AAGD,KALD,CADD,EAQA;AAAG,MAAA,OAAO,EAAG,MAAIL,aAAa,CAAC,YAAD,CAA9B;AAA8C,MAAA,SAAS,EAAC,gCAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBARA,CAFD,EAaA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAbA,EAcA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAECX,KAAK,CAACY,GAAN,CAAU,CAACL,IAAD,EAAMU,CAAN,KAAU;AACnB,UAAGV,IAAI,CAACQ,SAAL,KAAiBL,GAApB,EACC,OACC,oBAAC,IAAD;AACC,QAAA,aAAa,EAAIC,aADlB;AAEC,QAAA,GAAG,EAAEM,CAFN;AAGC,QAAA,QAAQ,EAAEjB,KAAK,CAACiB,CAAD,CAAL,CAASD,QAHpB;AAIC,QAAA,IAAI,EAAEhB,KAAK,CAACiB,CAAD,CAAL,CAASC,IAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD;AAQD,KAVD,CAFD,CAdA,CADD;AAiCA;;AAzDuC;;AA2DzC,eAAexB,UAAf","sourcesContent":["import React from 'react';\r\nimport Card from './Card';\r\n\r\nclass PersonInfo extends React.Component {\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state={\r\n\t\t\thistory:[],\r\n\t\t\trecom:[]\r\n\t\t}\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tvar that = this;\r\n\t\tfetch('http://localhost:3000/gethistory')\r\n\t\t.then(response => response.json())\r\n\t\t.then(function(data){\r\n\t\t\tthat.setState({history:data})\r\n\t\t});\r\n\t\tfetch('http://localhost:3000/getrecombystu')\r\n\t\t.then(response => response.json())\r\n\t\t.then(function(data){\r\n\t\t\tthat.setState({recom:data})\r\n\t\t});\r\n\t}\r\n\trender(){\r\n\t\tconst {history,recom} = this.state;\r\n\t\tconst {sid,onRouteChange} = this.props;\r\n\t\treturn(\r\n\t\t\t<div>\r\n\t\t\t<h2 >Enrolled Course History</h2>\r\n\t\t\t\t<div className='black dib br3 pa3 ma2 grow bw2 shadow-5'>\r\n\t\t\t\t{history.map((item,i)=>{\r\n\t\t\t\t\t\tif(item.studentid===sid)\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t  <td class=\"pv3 pr3 bb b--black-20 bg-lightgreen\" key={i}>{history[i].courseid}</td>\t\t    \r\n\t\t\t\t\t\t \t)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t<p onClick ={()=>onRouteChange('addhistory')} className=\"link dim underline pa3 pointer\">Add History</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t<h2>Recommendation for you</h2>\r\n\t\t\t<div> \r\n\t\t\t{\t\r\n\t\t\t\trecom.map((data,j)=>{\r\n\t\t\t\t\tif(data.studentid===sid)\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Card \r\n\t\t\t\t\t\t\t\tonRouteChange = {onRouteChange}\r\n\t\t\t\t\t\t\t\tkey={j} \r\n\t\t\t\t\t\t\t\tcourseid={recom[j].courseid} \r\n\t\t\t\t\t\t\t\tname={recom[j].name}\r\n\t\t\t\t\t\t\t/>\t\r\n\t\t\t\t\t \t)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\nexport default PersonInfo;\r\n"]},"metadata":{},"sourceType":"module"}